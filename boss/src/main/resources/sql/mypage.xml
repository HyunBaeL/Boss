<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boss.dao.MypageDao">
	
	<!-- 내 주문내역 불러오기 -->
	<select id="myoders" parameterType="String" resultType="orders">
		select * from orders where mEmail = #{mEmail}
	</select>	
	
	<!-- 내 리뷰 불러오기 -->	
	<select id="myreviews" parameterType="String" resultType="review">
		select * from review where mEmail = #{mEmail} and rDrop = 'N'
	</select>
	
	<!-- 내 QnA 불러오기 -->
	<select id="myqnas" parameterType="String" resultType="qnaBoard">
		select * from qnaBoard where mEmail = #{mEmail} and qnaDrop = 'N'
	</select>

	<update id="mypageDeleteReview" parameterType="String">
		update review set rdrop = 'Y' where rid = #{rid}
	</update>
	
	<update id="refund" parameterType="String">
		update orderdetail set odstatus = 2 where odid = #{odid}
	</update>
	
	<select id="myorderDetail" parameterType="String" resultType="orderDetail">
		select * from orderDetail where odid = #{odid}
	</select>
	
</mapper>